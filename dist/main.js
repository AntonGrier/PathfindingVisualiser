!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e){t.exports=React},function(t,e,s){"use strict";var i=this&&this.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(r,a){function n(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(n,o)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=s(0),a=s(0),n=s(6),o=s(7);e.GRIDW=50,e.GRIDH=27;const l={x:Math.floor(e.GRIDW/4),y:Math.floor(e.GRIDH/2)},h={x:e.GRIDW-l.x,y:l.y};var u,c;!function(t){t[t.PlacingWall=0]="PlacingWall",t[t.RemovingWall=1]="RemovingWall",t[t.MovingStart=2]="MovingStart",t[t.MovingFinish=3]="MovingFinish"}(u=e.MouseState||(e.MouseState={})),function(t){t[t.Unvisited=0]="Unvisited",t[t.Visited=1]="Visited",t[t.Wall=2]="Wall",t[t.ShortestPath=3]="ShortestPath"}(c=e.NodeType||(e.NodeType={}));class p extends a.Component{constructor(t){super(t),this.state={grid:[],startPos:null,finishPos:null,mouseState:null,isMouseDown:!1},this.reset.bind(this)}componentDidMount(){this.reset(l,h),this.references=Array(e.GRIDH).fill([]).map(()=>Array(e.GRIDW).fill(0).map(()=>a.createRef()))}reset(t,s){let i=[];for(let t=0;t<e.GRIDH;t++){let s=[];for(let i=0;i<e.GRIDW;i++){let e={position:{x:i,y:t},nodeType:c.Unvisited};s.push(e)}i.push(s)}this.setState({grid:i,startPos:t,finishPos:s,mouseState:u.PlacingWall,isMouseDown:!1})}updateMouseState(t,e){switch(e){case"mousedown":this.onMouseDown(t);break;case"mouseup":this.onMouseUp();break;case"mouseenter":this.onMouseEnter(t)}}onMouseDown(t){let{grid:e,mouseState:s,isMouseDown:i}=this.state,r=e[t.y][t.x].nodeType;s===u.MovingStart&&this.isFinish(t)||s===u.MovingFinish&&this.isStart(t)||(s=this.isStart(t)?u.MovingStart:this.isFinish(t)?u.MovingFinish:r===c.Unvisited?u.PlacingWall:u.RemovingWall,this.isStart(t)||this.isFinish(t)||(r===c.Wall?e[t.y][t.x].nodeType=c.Unvisited:e[t.y][t.x].nodeType=c.Wall),i=!0,this.setState({grid:e,mouseState:s,isMouseDown:i}))}onMouseUp(){let t=u.PlacingWall;this.setState({mouseState:t,isMouseDown:!1})}onMouseEnter(t){let{grid:e,startPos:s,finishPos:i,mouseState:r,isMouseDown:a}=this.state;if(a&&!this.isStart(t)&&!this.isFinish(t))switch(r){case u.MovingStart:s=t,this.setState({startPos:s});break;case u.MovingFinish:i=t,this.setState({finishPos:i});break;case u.PlacingWall:e[t.y][t.x].nodeType=c.Wall,this.setState({grid:e});break;case u.RemovingWall:e[t.y][t.x].nodeType=c.Unvisited,this.setState({grid:e})}}isStart(t){return t.x===this.state.startPos.x&&t.y===this.state.startPos.y}isFinish(t){return t.x===this.state.finishPos.x&&t.y===this.state.finishPos.y}performAlgorithm(t){t.calculatePath(this.state.grid,this.state.startPos,this.state.finishPos);let e=t.produceVisitedInOrder(),s=t.produceFinalPath();this.visualiseAlgorithm(e,s)}visualiseAlgorithm(t,e){(()=>{i(this,void 0,void 0,(function*(){yield this.visualiseVisited(t),yield this.visualisePath(e)}))})()}visualiseVisited(t){return new Promise(e=>{let s=0;setInterval(()=>{if(s===t.length)e();else{let e=t[s],i=this.references[e.y][e.x],r=i.current.className;r.includes("cell-start")?i.current.className="cell cell-start cell-visited":r.includes("cell-finish")?i.current.className="cell cell-finish cell-visited":i.current.className="cell cell-visited",s++}},15*s)})}visualisePath(t){return new Promise(e=>{let s=0;setInterval(()=>{if(s===t.length)e();else{let e=t[s],i=this.references[e.y][e.x],r=i.current.className;r.includes("cell-start")?i.current.className="cell cell-start cell-shortestPath":r.includes("cell-finish")?i.current.className="cell cell-finish cell-shortestPath":i.current.className="cell cell-shortestPath",s++}},15*s)})}render(){let t=this.state.grid;return r.createElement("div",null,r.createElement(o.default,{performAlgorithm:t=>this.performAlgorithm(t),reset:()=>this.reset(this.state.startPos,this.state.finishPos)}),r.createElement("div",{className:"grid"},t.map((t,e)=>r.createElement("div",{className:"grid-row",key:e},t.map((t,s)=>r.createElement(n.default,{position:{x:s,y:e},isStart:this.state.startPos.x===s&&this.state.startPos.y===e,isFinish:this.state.finishPos.x===s&&this.state.finishPos.y===e,nodeType:t.nodeType,updateMouseState:(t,e)=>this.updateMouseState(t,e),nodeRef:this.references[e][s],key:s}))))))}}e.default=p},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1);e.default=class{constructor(){this.pathValues=new Map,this.finalPath=[],this.visitedNodesInOrder=[]}produceVisitedInOrder(){return this.visitedNodesInOrder}produceFinalPath(){return this.finalPath}getNeighbors(t,e){let s=[];return e.x>0&&s.push({x:e.x-1,y:e.y}),e.y<t.length-1&&s.push({x:e.x,y:e.y+1}),e.x<t[0].length-1&&s.push({x:e.x+1,y:e.y}),e.y>0&&s.push({x:e.x,y:e.y-1}),s.filter(e=>t[e.y][e.x].nodeType!==i.NodeType.Wall&&!this.isVisited(e))}isVisited(t){return this.pathValues.get(this.hash(t)).isVisited}markAsVisited(t){this.visitedNodesInOrder.push(t);let e=this.pathValues.get(this.hash(t)),s=Object.assign(Object.assign({},e),{isVisited:!0});this.pathValues.set(this.hash(t),s)}equalPosition(t,e){return t.x===e.x&&t.y===e.y}hash(t){return t.x.toString()+"-"+t.y.toString()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(4),a=s(5);r.render(i.createElement(a.default,null),document.getElementById("root"))},function(t,e){t.exports=ReactDOM},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(1),a=s(0);class n extends a.Component{constructor(t){super(t),this.state={}}render(){return i.createElement("div",{className:"app"},i.createElement(r.default,null))}}e.default=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(0),a=s(1);class n extends r.Component{constructor(t){super(t),this.state={}}handleMouseEvent(t){let e=t.type,s=this.props.position;this.props.updateMouseState(s,e)}render(){let t,{isStart:e,isFinish:s,nodeType:r}=this.props;if(e||s)t=e?"cell-start":s?"cell-finish":"";else switch(r){case a.NodeType.Unvisited:t="cell-unvisited";break;case a.NodeType.Visited:t="cell-visited";break;case a.NodeType.Wall:t="cell-wall";break;case a.NodeType.ShortestPath:t="cell-shortestPath"}return i.createElement("div",{ref:this.props.nodeRef,id:`cell-${this.props.position.x}-${this.props.position.y}`,className:"cell "+t,onMouseDown:t=>this.handleMouseEvent(t),onMouseUp:t=>this.handleMouseEvent(t),onMouseEnter:t=>this.handleMouseEvent(t)})}}e.default=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),r=s(0),a=s(8),n=s(10),o=s(12);class l extends i.Component{constructor(t){super(t),this.state={}}render(){return r.createElement("div",{className:"navbar"},r.createElement("button",{onClick:()=>{this.props.performAlgorithm(new a.default)}},"Djikstra"),r.createElement("button",{onClick:()=>{this.props.performAlgorithm(new n.default)}},"DFS"),r.createElement("button",{onClick:()=>{this.props.performAlgorithm(new o.default)}},"BFS"),r.createElement("button",{onClick:()=>{this.props.reset()}},"Clear"))}}e.default=l},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(9);class a extends i.default{constructor(){super(...arguments),this.minHeap=new r.PriorityQueue}calculatePath(t,e,s){for(this.setMap(t,e),this.minHeap.insert(e,0);0!==this.minHeap.size();){let e=this.minHeap.pop();if(console.log(e),this.markAsVisited(e),this.equalPosition(e,s))return console.log("FINISH REACHED"),void this.findShortestPath(s);let i=this.getNeighbors(t,e),r=this.pathValues.get(this.hash(e)).shortestPath;for(let t of i){let s=r+1,i=this.pathValues.get(this.hash(t));if(this.minHeap.insert(t,s),s<i.shortestPath){let i={shortestPath:s,isVisited:!0,previousNode:e};this.pathValues.set(this.hash(t),i)}}}}setMap(t,e){t.forEach(t=>t.forEach(t=>{let s,i=t.position;s=this.equalPosition(e,i)?0:1/0;let r={shortestPath:s,isVisited:!1,previousNode:null};this.pathValues.set(this.hash(i),r)}))}findShortestPath(t){for(let e=t;null!=e;e=this.pathValues.get(this.hash(e)).previousNode)this.finalPath.unshift(e)}}e.default=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PriorityQueue=class{constructor(){this.heap=[]}insert(t,e){if(!this.heap.length||this.heap[this.heap.length-1][1]>e)return this.heap.push([t,e]),this.heap;const s=[];let i=!1;for(let r=0;r<this.heap.length;r++){e>=this.heap[r][1]&&!i&&(s.push([t,e]),i=!0),s.push(this.heap[r])}return this.heap=s}has({x:t,y:e}){return!!this.heap.find(([s])=>s.x===t&&s.y===e)}get({x:t,y:e}){const s=this.heap.find(([s])=>s.x===t&&s.y===e);return s&&s[0]}shift(t){const e=this.heap.shift();return t?e:e?e[0]:void 0}pop(){return this.heap.pop()[0]}priorities(){return this.heap.map(([t,e])=>e)}values(){return this.heap.map(([t])=>t)}size(){return this.heap.length}toArray(t){return t?this.heap.map(([t])=>t):this.heap}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(11);class a extends i.default{constructor(){super(...arguments),this.stack=new r.default}calculatePath(t,e,s){for(this.setMap(t),this.stack.push(e);!this.stack.isEmpty();){let e=this.stack.pop();if(this.markAsVisited(e),this.equalPosition(e,s))return void(this.finalPath=this.visitedNodesInOrder);let i=this.getNeighbors(t,e);for(let t of i)this.stack.push(t)}}setMap(t){t.forEach(t=>{t.forEach(t=>{let e=t.position;this.pathValues.set(this.hash(e),{isVisited:!1})})})}}e.default=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.data=[],this.top=0}push(t){this.data[this.top]=t,this.top++}pop(){return this.top--,this.data[this.top]}isEmpty(){return 0===this.top}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),r=s(13);class a extends i.default{constructor(){super(...arguments),this.queue=new r.default}calculatePath(t,e,s){for(this.setMap(t),this.queue.push(e);!this.queue.isEmpty();){let e=this.queue.pop();if(console.log(e),this.markAsVisited(e),this.equalPosition(e,s))return void this.findShortestPath(s);let i=this.getNeighbors(t,e);for(let t of i)this.queue.push(t),this.pathValues.set(this.hash(t),{isVisited:!0,previousNode:e})}}setMap(t){t.forEach(t=>{t.forEach(t=>{let e=t.position;this.pathValues.set(this.hash(e),{isVisited:!1,previousNode:null})})})}findShortestPath(t){for(let e=t;null!=e;e=this.pathValues.get(this.hash(e)).previousNode)this.finalPath.unshift(e)}}e.default=a},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.data=[]}push(t){this.data.push(t)}pop(){return this.data.shift()}isEmpty(){return 0===this.data.length}}}]);
//# sourceMappingURL=main.js.map