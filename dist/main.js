!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=5)}([function(t,e){t.exports=React},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeType=e.MouseState=e.UPDATE_RATE=e.DEFAULT_FINISH_POS=e.DEFAULT_START_POS=e.GRID_H=e.GRID_W=void 0,e.GRID_W=41,e.GRID_H=21,e.DEFAULT_START_POS={x:Math.floor(e.GRID_W/4),y:Math.floor(e.GRID_H/2)},e.DEFAULT_FINISH_POS={x:e.GRID_W-e.DEFAULT_START_POS.x,y:e.DEFAULT_START_POS.y},e.UPDATE_RATE=5,function(t){t[t.PlacingWall=0]="PlacingWall",t[t.RemovingWall=1]="RemovingWall",t[t.MovingStart=2]="MovingStart",t[t.MovingFinish=3]="MovingFinish",t[t.MovingMidpoint=4]="MovingMidpoint",t[t.Disabled=5]="Disabled"}(e.MouseState||(e.MouseState={})),function(t){t[t.Unvisited=0]="Unvisited",t[t.VisitedOne=1]="VisitedOne",t[t.VisitedTwo=2]="VisitedTwo",t[t.VisitedOverlap=3]="VisitedOverlap",t[t.Wall=4]="Wall",t[t.ShortestPath=5]="ShortestPath"}(e.NodeType||(e.NodeType={}))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1);e.default=class{constructor(){this.pathValues=new Map,this.finalPath=[],this.visitedNodesInOrder=[]}produceVisitedInOrder(){return this.visitedNodesInOrder.slice(1,this.visitedNodesInOrder.length-1)}produceFinalPath(){return this.finalPath.slice(1,this.visitedNodesInOrder.length-1)}getNeighbors(t,e){let s=[];return s.push({x:e.x+1,y:e.y}),s.push({x:e.x,y:e.y+1}),s.push({x:e.x,y:e.y-1}),s.push({x:e.x-1,y:e.y}),s.push({x:e.x-1,y:e.y+1}),s.push({x:e.x+1,y:e.y+1}),s.push({x:e.x+1,y:e.y-1}),s.push({x:e.x-1,y:e.y-1}),s.filter(s=>s.x>=0&&s.x<i.GRID_W&&s.y>=0&&s.y<i.GRID_H&&t[s.y][s.x].nodeType!==i.NodeType.Wall&&!this.isVisited(s)&&this.cornerCheck(e,s,t))}cornerCheck(t,e,s){return s[t.y][e.x].nodeType!==i.NodeType.Wall||s[e.y][t.x].nodeType!==i.NodeType.Wall}isVisited(t){return this.pathValues.get(this.hash(t)).isVisited}markAsVisited(t){this.visitedNodesInOrder.push(t);let e=this.pathValues.get(this.hash(t)),s=Object.assign(Object.assign({},e),{isVisited:!0});this.pathValues.set(this.hash(t),s)}equalPosition(t,e){return t.x===e.x&&t.y===e.y}hash(t){return t.x.toString()+"-"+t.y.toString()}clear(){this.visitedNodesInOrder=[],this.finalPath=[],this.pathValues=new Map}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{getRandom(t,e){return t+Math.floor((e-t+1)*Math.random())}addWall(t){this.wallsCreatedInOrder.push(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ADJUSTED_HEIGHT=e.ADJUSTED_WIDTH=void 0;const i=s(3),a=s(1);e.ADJUSTED_WIDTH=(a.GRID_W-1)/2,e.ADJUSTED_HEIGHT=(a.GRID_H-1)/2;class o extends i.default{createStartingWalls(){for(let t=0;t<a.GRID_W;t++){let e={x:t,y:0},s={x:t,y:a.GRID_H-1};this.addWall(e),this.addWall(s)}for(let t=0;t<a.GRID_W;t+=2)for(let e=1;e<a.GRID_H-1;e++){let s={x:t,y:e};this.addWall(s)}for(let t=1;t<a.GRID_W-1;t+=2)for(let e=2;e<a.GRID_H-2;e+=2){let s={x:t,y:e};this.addWall(s)}}placeWallBetweenPositions(t,e){let s={x:Math.floor((t.x+e.x)/2),y:Math.floor((t.y+e.y)/2)};this.addWall(s)}positionInBounds(t){return t.x>0&&t.x<a.GRID_W-1&&t.y>0&&t.y<a.GRID_H-1}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),a=s(6),o=s(7);a.render(i.createElement(o.default,null),document.getElementById("root"))},function(t,e){t.exports=ReactDOM},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),a=s(8),o=s(0);class r extends o.Component{constructor(t){super(t),this.state={}}render(){return i.createElement("div",{className:"app"},i.createElement(a.default,null))}}e.default=r},function(t,e,s){"use strict";var i=this&&this.__awaiter||function(t,e,s,i){return new(s||(s=Promise))((function(a,o){function r(t){try{l(i.next(t))}catch(t){o(t)}}function n(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(r,n)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const a=s(0),o=s(1),r=s(0),n=s(9),l=s(10),h=s(20);class d extends r.Component{constructor(t){super(t),this.references=Array(o.GRID_H).fill([]).map(()=>Array(o.GRID_W).fill(0).map(()=>r.createRef()));let e=[];for(let t=0;t<o.GRID_H;t++){let s=[];for(let e=0;e<o.GRID_W;e++){let i={position:{x:e,y:t},nodeType:o.NodeType.Unvisited,weight:0};s.push(i)}e.push(s)}this.state={grid:e,startPos:o.DEFAULT_START_POS,finishPos:o.DEFAULT_FINISH_POS,midpointPos:null,mouseState:o.MouseState.PlacingWall,isMouseDown:!1,updateLock:!1,perlinToggle:!1,prevAlgorithm:null}}shouldComponentUpdate(t,e){return!e.updateLock}clearPath(){let t=this.state.grid;return t=t.map(t=>t.map(t=>Object.assign(Object.assign({},t),{nodeType:t.nodeType===o.NodeType.Wall?o.NodeType.Wall:o.NodeType.Unvisited}))),t}updateMouseState(t,e){if(this.state.mouseState!==o.MouseState.Disabled)switch(e){case"mousedown":this.onMouseDown(t);break;case"mouseup":this.onMouseUp();break;case"mouseenter":this.onMouseEnter(t)}}onMouseDown(t){let{grid:e,mouseState:s,isMouseDown:i,prevAlgorithm:a}=this.state,r=e[t.y][t.x].nodeType;(s!==o.MouseState.MovingStart&&s!==o.MouseState.MovingFinish&&s!==o.MouseState.MovingMidpoint||this.isEmpty(t))&&(s=this.isStart(t)?o.MouseState.MovingStart:this.isFinish(t)?o.MouseState.MovingFinish:this.isMidpoint(t)?o.MouseState.MovingMidpoint:r===o.NodeType.Unvisited?o.MouseState.PlacingWall:o.MouseState.RemovingWall,this.isEmpty(t)&&(null!==a&&(e=this.clearPath(),a=null),r===o.NodeType.Wall?e[t.y][t.x].nodeType=o.NodeType.Unvisited:e[t.y][t.x].nodeType=o.NodeType.Wall),i=!0,this.setState({grid:e,mouseState:s,isMouseDown:i,prevAlgorithm:a}))}onMouseUp(){let t=o.MouseState.PlacingWall;this.setState({mouseState:t,isMouseDown:!1})}onMouseEnter(t){let{grid:e,startPos:s,finishPos:i,midpointPos:a,mouseState:r,isMouseDown:n,prevAlgorithm:l}=this.state;if(n&&!this.isStart(t)&&!this.isFinish(t)&&!this.isMidpoint(t))switch(r){case o.MouseState.MovingStart:s=t,null!==l?this.recalculatePath(s,i,a,l):this.setState({startPos:s});break;case o.MouseState.MovingFinish:i=t,null!==l?this.recalculatePath(s,i,a,l):this.setState({finishPos:i});break;case o.MouseState.MovingMidpoint:a=t,null!==l?this.recalculatePath(s,i,a,l):this.setState({midpointPos:a});break;case o.MouseState.PlacingWall:e[t.y][t.x].nodeType=o.NodeType.Wall,this.setState({grid:e});break;case o.MouseState.RemovingWall:e[t.y][t.x].nodeType=o.NodeType.Unvisited,this.setState({grid:e})}}recalculatePath(t,e,s,i){let a=this.clearPath(),r=[],n=[];null===s?(i.calculatePath(a,t,e),r.push(i.produceVisitedInOrder()),n.push(i.produceFinalPath())):(i.calculatePath(a,this.state.startPos,this.state.midpointPos),r.push(i.produceVisitedInOrder()),n.push(i.produceFinalPath()),i.calculatePath(a,this.state.midpointPos,this.state.finishPos),r.push(i.produceVisitedInOrder()),n.push(i.produceFinalPath())),console.log(r);for(let t=0;t<r.length;t++){let e=r[t];for(let s of e)0===t?a[s.y][s.x].nodeType=o.NodeType.VisitedOne:a[s.y][s.x].nodeType===o.NodeType.VisitedOne?a[s.y][s.x].nodeType=o.NodeType.VisitedOverlap:a[s.y][s.x].nodeType=o.NodeType.VisitedTwo}for(let t of n)for(let e of t)a[e.y][e.x].nodeType=o.NodeType.ShortestPath;this.setState({grid:a,startPos:t,finishPos:e,midpointPos:s})}isEmpty(t){return!this.isStart(t)&&!this.isFinish(t)&&!this.isMidpoint(t)}isStart(t){return t.x===this.state.startPos.x&&t.y===this.state.startPos.y}isFinish(t){return t.x===this.state.finishPos.x&&t.y===this.state.finishPos.y}isMidpoint(t){return null!==this.state.midpointPos&&t.x===this.state.midpointPos.x&&t.y===this.state.midpointPos.y}performAlgorithm(t){let e=this.state.midpointPos;this.setState({prevAlgorithm:t,mouseState:o.MouseState.Disabled});let s=[],i=[];null===e?(t.calculatePath(this.state.grid,this.state.startPos,this.state.finishPos),s.push(t.produceVisitedInOrder()),i.push(t.produceFinalPath())):(t.calculatePath(this.state.grid,this.state.startPos,this.state.midpointPos),s.push(t.produceVisitedInOrder()),i.push(t.produceFinalPath()),t.calculatePath(this.state.grid,this.state.midpointPos,this.state.finishPos),s.push(t.produceVisitedInOrder()),i.push(t.produceFinalPath())),this.visualiseAlgorithm(s,i),this.setState({mouseState:o.MouseState.PlacingWall})}visualiseAlgorithm(t,e){(()=>{i(this,void 0,void 0,(function*(){this.lockRender();for(let e=0;e<t.length;e++){let s=t[e];yield this.visualiseVisited(s,e)}yield this.visualisePath([].concat(...e)),this.unlockRender()}))})()}visualiseVisited(t,e){return new Promise(s=>{for(let i=0;i<=t.length;i++)setTimeout(()=>{if(i===t.length)s();else{let s=t[i],a=this.references[s.y][s.x],r=a.current.className;if(!r.includes("cell-start")&&!r.includes("cell-finish")&&!r.includes("cell-midpoint")){r.includes("cell-visited-0")?a.current.className="cell cell-visited-overlap":a.current.className="cell cell-visited-"+e;let t=this.state.grid;0===e?t[s.y][s.x].nodeType=o.NodeType.VisitedOne:t[s.y][s.x].nodeType===o.NodeType.VisitedOne?t[s.y][s.x].nodeType=o.NodeType.VisitedOverlap:t[s.y][s.x].nodeType=o.NodeType.VisitedTwo,this.setState({grid:t})}}},o.UPDATE_RATE*i)})}visualisePath(t){return new Promise(e=>{for(let s=0;s<=t.length;s++)setTimeout(()=>{if(s===t.length)setTimeout(()=>{e()},o.UPDATE_RATE);else{let e=t[s],i=this.references[e.y][e.x],a=i.current.className;if(!a.includes("cell-start")&&!a.includes("cell-finish")){i.current.className="cell cell-shortestPath";let t=this.state.grid;t[e.y][e.x].nodeType=o.NodeType.ShortestPath,this.setState({grid:t})}}},o.UPDATE_RATE*s)})}lockRender(){this.setState({updateLock:!0})}unlockRender(){this.setState({updateLock:!1})}generateLandscape(){const t=new h.default,e=Math.floor(1e4*Math.random());let s=this.state.grid;for(let i=0;i<o.GRID_H;i++)for(let a=0;a<o.GRID_W;a++){let o=t.noise(.2*a+e,.2*i+e,0);s[i][a].weight=o}console.log(s),this.setState({grid:s})}generateMaze(t){(()=>{i(this,void 0,void 0,(function*(){this.lockRender();let e=t.generateWalls();yield this.visualizeMaze(e),this.unlockRender(),this.setState({mouseState:o.MouseState.PlacingWall})}))})()}visualizeMaze(t){return new Promise(e=>{for(let s=0;s<=t.length;s++)setTimeout(()=>{if(s===t.length)setTimeout(()=>{e()},o.UPDATE_RATE);else{let e=this.state.grid,i=t[s],a=this.references[i.y][i.x],r=a.current.className;this.wallAlreadyPlaced(i)?(r.includes("cell-start")||r.includes("cell-finish")||(a.current.className="cell cell-unvisited"),e[i.y][i.x].nodeType=o.NodeType.Unvisited):(r.includes("cell-start")||r.includes("cell-finish")||(a.current.className="cell cell-wall"),e[i.y][i.x].nodeType=o.NodeType.Wall),this.setState({grid:e})}},o.UPDATE_RATE*s)})}wallAlreadyPlaced(t){return this.state.grid[t.y][t.x].nodeType===o.NodeType.Wall}setMidpoint(t){if(!this.isStart(t)&&!this.isFinish(t)){let e;e=this.isMidpoint(t)?null:t,this.setState({midpointPos:e})}}render(){const t=this.state.grid;return a.createElement("div",null,a.createElement(l.default,{performAlgorithm:t=>this.performAlgorithm(t),clearPath:()=>this.setState({prevAlgorithm:null,grid:this.clearPath()}),generateLandscape:()=>this.generateLandscape(),generateMaze:t=>this.generateMaze(t)}),a.createElement("div",{className:"grid"},t.map((t,e)=>a.createElement("div",{className:"grid-row",key:e},t.map((t,s)=>{let i={x:s,y:e};return a.createElement(n.default,{position:{x:s,y:e},isStart:this.isStart(i),isFinish:this.isFinish(i),isMidpoint:this.isMidpoint(i),nodeType:t.nodeType,weight:t.weight,updateMouseState:(t,e)=>this.updateMouseState(t,e),setMidpoint:t=>this.setMidpoint(t),nodeRef:this.references[e][s],key:s})})))))}}e.default=d},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),a=s(0),o=s(1);class r extends a.Component{constructor(t){super(t),this.state={}}handleMouseEvent(t){let e=this.props.position;if(1===t.nativeEvent.which){let s=t.type;this.props.updateMouseState(e,s)}else 3===t.nativeEvent.which&&"mousedown"===t.type&&this.props.setMidpoint(e)}convertWeightToGreyscale(t){const e=55+200*(t=1-t);return`rgb(${e},${e},${e})`}render(){let t,{isStart:e,isFinish:s,isMidpoint:a,nodeType:r,weight:n}=this.props;if(e||s||a)t=e?"cell-start":s?"cell-finish":a?"cell-midpoint":"";else switch(r){case o.NodeType.Unvisited:t="cell-unvisited";break;case o.NodeType.VisitedOne:t="cell-visited-0";break;case o.NodeType.VisitedTwo:t="cell-visited-1";break;case o.NodeType.VisitedOverlap:t="cell-visited-overlap";break;case o.NodeType.Wall:t="cell-wall";break;case o.NodeType.ShortestPath:t="cell-shortestPath"}let l={};return r!==o.NodeType.Wall&&r!==o.NodeType.ShortestPath&&!e&&!s&&n>0&&(l={backgroundColor:this.convertWeightToGreyscale(n)}),i.createElement("div",{ref:this.props.nodeRef,id:`cell-${this.props.position.x}-${this.props.position.y}`,className:"cell "+t,style:Object.assign({},l),onMouseDown:t=>this.handleMouseEvent(t),onMouseUp:t=>this.handleMouseEvent(t),onMouseEnter:t=>this.handleMouseEvent(t),onContextMenu:t=>t.preventDefault()})}}e.default=r},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(0),a=s(0),o=s(11),r=s(13),n=s(15),l=s(17),h=s(18),d=s(19);class u extends i.Component{constructor(t){super(t),this.state={}}render(){return a.createElement("div",{className:"navbar"},a.createElement("button",{onClick:()=>{this.props.generateMaze(new d.default)}},"Ellers"),a.createElement("button",{onClick:()=>{this.props.generateMaze(new h.default)}},"Recursive BackTrack"),a.createElement("button",{onClick:()=>{this.props.generateMaze(new l.default)}},"Recursive Division"),a.createElement("button",{onClick:()=>{this.props.generateLandscape()}},"Generate Landscape"),a.createElement("button",{onClick:()=>{this.props.performAlgorithm(new o.default)}},"Dijkstra"),a.createElement("button",{onClick:()=>{this.props.performAlgorithm(new r.default)}},"DFS"),a.createElement("button",{onClick:()=>{this.props.performAlgorithm(new n.default)}},"BFS"),a.createElement("button",{onClick:()=>{this.props.clearPath()}},"Clear"))}}e.default=u},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),a=s(12);class o extends i.default{constructor(){super(...arguments),this.minHeap=new a.PriorityQueue}calculatePath(t,e,s){for(this.reset(),this.setMap(t,e),this.minHeap.insert(e,0);0!==this.minHeap.size();){let e=this.minHeap.pop();if(this.markAsVisited(e),this.equalPosition(e,s))return void this.findShortestPath(s);let i=this.getNeighbors(t,e),a=this.pathValues.get(this.hash(e)).shortestPath;for(let s of i){let i=a+this.getDistance(t,e,s),o=this.pathValues.get(this.hash(s));if(this.minHeap.insert(s,i),i<o.shortestPath){let t={shortestPath:i,isVisited:!0,previousNode:e};this.pathValues.set(this.hash(s),t)}}}}getDistance(t,e,s){let i=t[s.y][s.x].weight-t[e.y][e.x].weight;return Math.pow(1e4,i)*Math.sqrt(Math.pow(Math.abs(e.x-s.x),2)+Math.pow(Math.abs(e.y-s.y),2))}setMap(t,e){t.forEach(t=>t.forEach(t=>{let s,i=t.position;s=this.equalPosition(e,i)?0:1/0;let a={shortestPath:s,isVisited:!1,previousNode:null};this.pathValues.set(this.hash(i),a)}))}findShortestPath(t){for(let e=t;null!=e;e=this.pathValues.get(this.hash(e)).previousNode)this.finalPath.unshift(e)}reset(){this.clear(),this.minHeap=new a.PriorityQueue}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PriorityQueue=void 0;e.PriorityQueue=class{constructor(){this.heap=[]}insert(t,e){if(!this.heap.length||this.heap[this.heap.length-1][1]>e)return this.heap.push([t,e]),this.heap;const s=[];let i=!1;for(let a=0;a<this.heap.length;a++){e>=this.heap[a][1]&&!i&&(s.push([t,e]),i=!0),s.push(this.heap[a])}return this.heap=s}has({x:t,y:e}){return!!this.heap.find(([s])=>s.x===t&&s.y===e)}get({x:t,y:e}){const s=this.heap.find(([s])=>s.x===t&&s.y===e);return s&&s[0]}shift(t){const e=this.heap.shift();return t?e:e?e[0]:void 0}pop(){return this.heap.pop()[0]}priorities(){return this.heap.map(([t,e])=>e)}values(){return this.heap.map(([t])=>t)}size(){return this.heap.length}toArray(t){return t?this.heap.map(([t])=>t):this.heap}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),a=s(14);class o extends i.default{constructor(){super(...arguments),this.stack=new a.default}calculatePath(t,e,s){for(this.reset(),this.setMap(t),this.stack.push(e);!this.stack.isEmpty();){let e=this.stack.pop();if(this.markAsVisited(e),this.equalPosition(e,s))return void(this.finalPath=this.visitedNodesInOrder);let i=this.getNeighbors(t,e).reverse();for(let t of i)this.stack.push(t)}}setMap(t){t.forEach(t=>{t.forEach(t=>{let e=t.position;this.pathValues.set(this.hash(e),{isVisited:!1})})})}reset(){this.clear(),this.stack=new a.default}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.data=[],this.top=0}push(t){this.data[this.top]=t,this.top++}pop(){return this.top--,this.data[this.top]}isEmpty(){return 0===this.top}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(2),a=s(16);class o extends i.default{constructor(){super(...arguments),this.queue=new a.default}calculatePath(t,e,s){for(this.reset(),this.setMap(t),this.queue.push(e);!this.queue.isEmpty();){let e=this.queue.pop();if(this.markAsVisited(e),this.equalPosition(e,s))return void this.findShortestPath(s);let i=this.getNeighbors(t,e);for(let t of i)this.queue.push(t),this.pathValues.set(this.hash(t),{isVisited:!0,previousNode:e})}}setMap(t){t.forEach(t=>{t.forEach(t=>{let e=t.position;this.pathValues.set(this.hash(e),{isVisited:!1,previousNode:null})})})}findShortestPath(t){for(let e=t;null!=e;e=this.pathValues.get(this.hash(e)).previousNode)this.finalPath.unshift(e)}reset(){this.clear(),this.queue=new a.default}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.data=[]}push(t){this.data.push(t)}pop(){return this.data.shift()}isEmpty(){return 0===this.data.length}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(3),a=s(1);class o extends i.default{generateWalls(){this.wallsCreatedInOrder=[],this.gapMap=new Map;const t={x:a.GRID_W-1,y:a.GRID_H-1};return this.divide({x:0,y:0},t),this.wallsCreatedInOrder}divide(t,e){let s=e.x-t.x+1,i=e.y-t.y+1;if(s<2||i<2||2===s&&2===i)return;let a,o,r,n,l=s>i,h=!1;for(;!h;)if(l){a=this.getRandom(t.x+1,e.x-1),o={x:a,y:this.getRandom(t.y,e.y)},console.log(`Trying ${a}, width: ${s} heoght: ${i}`);let r={x:a,y:t.y-1},n={x:a,y:e.y+1};h=!(s>2&&i>2)||!this.gapMap.has(this.hash(r))&&!this.gapMap.has(this.hash(n))}else{a=this.getRandom(t.y+1,e.y-1),o={x:this.getRandom(t.x,e.x),y:a},console.log(`Trying ${a}, width: ${s} heoght: ${i}`);let r={x:t.x-1,y:a},n={x:e.x+1,y:a};h=!(s>2&&i>2)||!this.gapMap.has(this.hash(r))&&!this.gapMap.has(this.hash(n))}this.gapMap.set(this.hash(o),o);for(let s=l?t.y:t.x;s<=(l?e.y:e.x);s++){if(s===(l?o.y:o.x))continue;let t;t=l?{x:a,y:s}:{x:s,y:a},this.wallsCreatedInOrder.push(t)}l?(r={x:a-1,y:e.y},n={x:a+1,y:t.y}):(r={x:e.x,y:a-1},n={x:t.x,y:a+1}),this.divide(t,r),this.divide(n,e)}hash(t){return t.x.toString()+"-"+t.y.toString()}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1),a=s(4);class o extends a.default{generateWalls(){this.wallsCreatedInOrder=[],this.visited=new Map,this.createStartingWalls();let t={x:2*this.getRandom(1,(i.GRID_W-1)/2)-1,y:2*this.getRandom(1,(i.GRID_H-1)/2)-1};return this.carveWalls(t),this.wallsCreatedInOrder}carveWalls(t){this.visit(t);let e=this.getUnvisitedNeighbors(t);for(let s of e)console.log(s),this.isVisisted(s)||(this.placeWallBetweenPositions(t,s),this.carveWalls(s))}getUnvisitedNeighbors(t){let e=[{x:t.x+2,y:t.y},{x:t.x,y:t.y-2},{x:t.x-2,y:t.y},{x:t.x,y:t.y+2}];return e=e.filter(t=>this.positionInBounds(t)),this.randomisePositions(e)}randomisePositions(t){return t.sort(()=>Math.random()-.5)}visit(t){this.visited.set(this.hash(t),!0)}isVisisted(t){return this.visited.has(this.hash(t))}hash(t){return t.x.toString()+"-"+t.y.toString()}}e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(4);class a extends i.default{generateWalls(){return this.wallsCreatedInOrder=[],this.createStartingWalls(),this.generateMaze(),this.wallsCreatedInOrder}generateMaze(){let t=new o;t=this.mergeRow(t,0,!0);for(let e=1;e<i.ADJUSTED_HEIGHT;e++){let s=t;t=this.extendToNextRow(t,s,e),t=this.mergeRow(t,e,e!==i.ADJUSTED_HEIGHT-1)}}extendToNextRow(t,e,s){t=new o;for(let a=0;a<i.ADJUSTED_WIDTH;a++)e.isRoot(a)?(t.addEntry(a,-1),this.addTopWall({x:a,y:s})):this.randomBool()&&(t.addEntry(a,e.getEntry(a)),this.addTopWall({x:a,y:s}));return t}mergeRow(t,e,s){for(let a=0;a<i.ADJUSTED_WIDTH-1;a++)!this.randomBool()&&s||t.sameClass(a,a+1)||(t.mergeSets(a,a+1),this.addRightWall({x:a,y:e}));return t}addRightWall(t){this.addWall({x:2*t.x+2,y:2*t.y+1})}addTopWall(t){this.addWall({x:2*t.x+1,y:2*t.y})}randomBool(){return Math.random()>=.5}}e.default=a;class o{constructor(){this.data=Array(i.ADJUSTED_WIDTH).fill(-1)}mergeSets(t,e){-1===this.data[t]?this.data[t]=this.getRoot(e):this.data[e]=this.getRoot(t)}sameClass(t,e){return this.getRoot(t)===this.getRoot(e)}getRoot(t){for(;-1!==this.data[t];)t=this.data[t];return t}isRoot(t){return-1===this.data[t]}addEntry(t,e){this.data[t]=e}getEntry(t){return this.getRoot(t)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.permutation=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.p=new Array(512);for(var t=0;t<256;t++)this.p[256+t]=this.p[t]=this.permutation[t]}noise(t,e,s){var i=255&Math.floor(t),a=255&Math.floor(e),o=255&Math.floor(s);t-=Math.floor(t),e-=Math.floor(e),s-=Math.floor(s);var r=this.fade(t),n=this.fade(e),l=this.fade(s),h=this.p[i]+a,d=this.p[h]+o,u=this.p[h+1]+o,p=this.p[i+1]+a,c=this.p[p]+o,y=this.p[p+1]+o;return this.scale(this.lerp(l,this.lerp(n,this.lerp(r,this.grad(this.p[d],t,e,s),this.grad(this.p[c],t-1,e,s)),this.lerp(r,this.grad(this.p[u],t,e-1,s),this.grad(this.p[y],t-1,e-1,s))),this.lerp(n,this.lerp(r,this.grad(this.p[d+1],t,e,s-1),this.grad(this.p[c+1],t-1,e,s-1)),this.lerp(r,this.grad(this.p[u+1],t,e-1,s-1),this.grad(this.p[y+1],t-1,e-1,s-1)))))}fade(t){return t*t*t*(t*(6*t-15)+10)}lerp(t,e,s){return e+t*(s-e)}grad(t,e,s,i){var a=15&t,o=a<8?e:s,r=a<4?s:12==a||14==a?e:i;return(0==(1&a)?o:-o)+(0==(2&a)?r:-r)}scale(t){return(1+t)/2}}}]);
//# sourceMappingURL=main.js.map